{"version":3,"file":"react-calendar.cjs.development.js","sources":["../src/Monthly/MonthlyCalendar.tsx","../src/shared.ts","../src/Monthly/MonthlyBody.tsx","../src/Monthly/MonthlyEventItems.tsx","../src/Weekly/WeeklyCalendar.tsx","../src/Weekly/WeeklyEventItems.tsx"],"sourcesContent":["import {\n  eachDayOfInterval,\n  startOfMonth,\n  endOfMonth,\n  format,\n  subMonths,\n  addMonths,\n  getYear,\n} from 'date-fns';\nimport React, { ReactNode, useContext } from 'react';\n\ntype CalendarState = {\n  days: Date[];\n  currentMonth: Date;\n  locale?: Locale;\n  onCurrentMonthChange: (date: Date) => any;\n};\n\nconst MonthlyCalendarContext = React.createContext<CalendarState>(\n  {} as CalendarState\n);\n\nexport const useMonthlyCalendar = () => useContext(MonthlyCalendarContext);\n\ntype Props = {\n  locale?: Locale;\n  children: ReactNode;\n  currentMonth: Date;\n  onCurrentMonthChange: (date: Date) => any;\n};\n\nexport const MonthlyCalendar = ({\n  locale,\n  currentMonth,\n  onCurrentMonthChange,\n  children,\n}: Props) => {\n  let monthStart = startOfMonth(currentMonth);\n  let days = eachDayOfInterval({\n    start: monthStart,\n    end: endOfMonth(monthStart),\n  });\n\n  return (\n    <MonthlyCalendarContext.Provider\n      value={{\n        days,\n        locale,\n        onCurrentMonthChange,\n        currentMonth: monthStart,\n      }}\n    >\n      {children}\n    </MonthlyCalendarContext.Provider>\n  );\n};\n\nexport const MonthlyNav = () => {\n  let { locale, currentMonth, onCurrentMonthChange } = useMonthlyCalendar();\n\n  return (\n    <div className=\"flex justify-end mb-4\">\n      <button\n        onClick={() => onCurrentMonthChange(subMonths(currentMonth, 1))}\n        className=\"cursor-pointer\"\n      >\n        Previous\n      </button>\n      <div className=\"ml-4 mr-4 w-32 text-center\" aria-label=\"Current Month\">\n        {format(\n          currentMonth,\n          getYear(currentMonth) === getYear(new Date()) ? 'LLLL' : 'LLLL yyyy',\n          { locale }\n        )}\n      </div>\n      <button\n        onClick={() => onCurrentMonthChange(addMonths(currentMonth, 1))}\n        className=\"cursor-pointer\"\n      >\n        Next\n      </button>\n    </div>\n  );\n};\n","import { Locale } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\n\ntype DaysInWeekProps = {\n  locale?: Locale;\n};\n\nexport const daysInWeek = ({ locale = enUS }: DaysInWeekProps) => [\n  { day: 0, label: locale.localize?.day(0) },\n  { day: 1, label: locale.localize?.day(1) },\n  { day: 2, label: locale.localize?.day(2) },\n  { day: 3, label: locale.localize?.day(3) },\n  { day: 4, label: locale.localize?.day(4) },\n  { day: 5, label: locale.localize?.day(5) },\n  { day: 6, label: locale.localize?.day(6) },\n];\n","import React, { ReactNode, useContext } from 'react';\nimport { useMonthlyCalendar } from './MonthlyCalendar';\nimport { daysInWeek } from '../shared';\nimport { format, getDay, isSameDay, Locale } from 'date-fns';\n\nconst MonthlyBodyContext = React.createContext({} as any);\ntype BodyState<DayData> = {\n  day: Date;\n  events: DayData[];\n};\n\nexport function useMonthlyBody<DayData>() {\n  return useContext<BodyState<DayData>>(MonthlyBodyContext);\n}\n\ntype OmittedDaysProps = {\n  days: Date[];\n  omitDays?: number[];\n  locale?: Locale;\n};\n\nexport const handleOmittedDays = ({\n  days,\n  omitDays,\n  locale,\n}: OmittedDaysProps) => {\n  let headings = daysInWeek({ locale });\n  let daysToRender = days;\n\n  //omit the headings and days of the week that were passed in\n  if (omitDays) {\n    headings = daysInWeek({ locale }).filter(\n      day => !omitDays.includes(day.day)\n    );\n    daysToRender = days.filter(day => !omitDays.includes(getDay(day)));\n  }\n\n  // omit the padding if an omitted day was before the start of the month\n  let firstDayOfMonth = getDay(daysToRender[0]) as number;\n  if (omitDays) {\n    let subtractOmittedDays = omitDays.filter(day => day < firstDayOfMonth)\n      .length;\n    firstDayOfMonth = firstDayOfMonth - subtractOmittedDays;\n  }\n  let padding = new Array(firstDayOfMonth).fill(0);\n\n  return { headings, daysToRender, padding };\n};\n\n//to prevent these from being purged in production, we make a lookup object\nconst headingClasses = {\n  l3: 'lg:grid-cols-3',\n  l4: 'lg:grid-cols-4',\n  l5: 'lg:grid-cols-5',\n  l6: 'lg:grid-cols-6',\n  l7: 'lg:grid-cols-7',\n};\n\ntype MonthlyBodyProps<DayData> = {\n  /*\n    skip days, an array of days, starts at sunday (0), saturday is 6\n    ex: [0,6] would remove sunday and saturday from rendering\n  */\n  omitDays?: number[];\n  events: (DayData & { date: Date })[];\n  children: ReactNode;\n};\n\nexport function MonthlyBody<DayData>({\n  omitDays,\n  events,\n  children,\n}: MonthlyBodyProps<DayData>) {\n  let { days, locale } = useMonthlyCalendar();\n  let { headings, daysToRender, padding } = handleOmittedDays({\n    days,\n    omitDays,\n    locale,\n  });\n\n  let headingClassName = 'border-b-2 p-2 border-r-2 lg:block hidden';\n  return (\n    <div className=\"bg-white border-l-2 border-t-2\">\n      <div\n        className={`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 ${\n          //@ts-ignore\n          headingClasses[`l${headings.length}`]\n        }`}\n      >\n        {headings.map(day => (\n          <div\n            key={day.day}\n            className={headingClassName}\n            aria-label=\"Day of Week\"\n          >\n            {day.label}\n          </div>\n        ))}\n        {padding.map((_, index) => (\n          <div\n            key={index}\n            className={headingClassName}\n            aria-label=\"Empty Day\"\n          />\n        ))}\n        {daysToRender.map(day => (\n          <MonthlyBodyContext.Provider\n            key={day.toISOString()}\n            value={{\n              day,\n              events: events.filter(data => isSameDay(data.date, day)),\n            }}\n          >\n            {children}\n          </MonthlyBodyContext.Provider>\n        ))}\n      </div>\n    </div>\n  );\n}\n\ntype MonthlyDayProps<DayData> = {\n  renderDay: (events: DayData[]) => ReactNode;\n};\nexport function MonthlyDay<DayData>({ renderDay }: MonthlyDayProps<DayData>) {\n  let { locale } = useMonthlyCalendar();\n  let { day, events } = useMonthlyBody<DayData>();\n  let dayNumber = format(day, 'd', { locale });\n\n  return (\n    <div\n      aria-label={`Events for day ${dayNumber}`}\n      className=\"h-48 p-2 border-b-2 border-r-2\"\n    >\n      <div className=\"flex justify-between\">\n        <div className=\"font-bold\">{dayNumber}</div>\n        <div className=\"lg:hidden block\">{format(day, 'EEEE', { locale })}</div>\n      </div>\n      <ul className=\"divide-gray-200 divide-y overflow-hidden max-h-36 overflow-y-auto\">\n        {renderDay(events)}\n      </ul>\n    </div>\n  );\n}\n","import React from 'react';\n\n/*\n  Over time there may be more useful event item components that can be included\n  in the library\n*/\n\ntype DefaultEventItemProps = {\n  title: string;\n  date: string;\n};\n\nexport const DefaultMonthlyEventItem = ({\n  title,\n  date,\n}: DefaultEventItemProps) => {\n  return (\n    <li className=\"py-2\">\n      <div className=\"flex text-sm flex-1 justify-between\">\n        <h3 className=\"font-medium\">{title}</h3>\n        <p className=\"text-gray-500\">{date}</p>\n      </div>\n    </li>\n  );\n};\n","import {\n  startOfWeek,\n  format,\n  isSameDay,\n  getDay,\n  setDay,\n  isSameWeek,\n} from 'date-fns';\nimport React, {\n  CSSProperties,\n  ReactNode,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\nimport { daysInWeek } from '../shared';\n\ntype State = {\n  week: Date;\n  selectedDay?: Date;\n  locale?: Locale;\n  changeSelectedDay: (day?: Date) => any;\n};\n\nconst WeeklyContext = React.createContext<State>({} as State);\nexport const useWeeklyCalendar = () => useContext(WeeklyContext);\n\ntype WeeklyCalendarProps = {\n  week: Date;\n  children: ReactNode;\n  locale?: Locale;\n};\n\nexport const WeeklyCalendar = ({\n  locale,\n  week,\n  children,\n}: WeeklyCalendarProps) => {\n  let [selectedDay, setSelectedDay] = useState<Date>();\n\n  //clear the selected day if the week changes\n  useEffect(() => {\n    setSelectedDay(undefined);\n  }, [week]);\n\n  return (\n    <WeeklyContext.Provider\n      value={{\n        locale,\n        selectedDay,\n        week: startOfWeek(week),\n        changeSelectedDay: setSelectedDay,\n      }}\n    >\n      {children}\n    </WeeklyContext.Provider>\n  );\n};\n\ntype WeeklyContainerProps = {\n  children: ReactNode;\n};\nexport const WeeklyContainer = ({ children }: WeeklyContainerProps) => {\n  return <div className=\"md:flex md:justify-between\">{children}</div>;\n};\n\ntype DayButtonProps = {\n  day: { day: number; label: string };\n};\n\nconst DayButton = ({ day }: DayButtonProps) => {\n  let { locale, week, selectedDay, changeSelectedDay } = useWeeklyCalendar();\n  let isSelected = selectedDay ? getDay(selectedDay) === day.day : false;\n  let currentDate = setDay(week, day.day, { locale });\n  return (\n    <li\n      onClick={() => changeSelectedDay(isSelected ? undefined : currentDate)}\n      className=\"bg-white cursor-pointer\"\n      aria-label=\"Day of Week\"\n    >\n      <div\n        className={`rounded-lg border sm:w-36 text-center py-4 ${\n          isSelected\n            ? 'border-indigo-600'\n            : 'border-gray-300 hover:border-gray-500'\n        }`}\n      >\n        <p className=\"font-medium text-sm text-gray-800\">\n          {day.label} {format(currentDate, 'do', { locale })}\n        </p>\n      </div>\n    </li>\n  );\n};\n\ntype WeeklyDaysProps = {\n  omitDays?: number[];\n};\n\nexport const WeeklyDays = ({ omitDays }: WeeklyDaysProps) => {\n  let { locale } = useWeeklyCalendar();\n  let daysToRender = daysInWeek({ locale });\n\n  if (omitDays) {\n    daysToRender = daysInWeek({ locale }).filter(\n      day => !omitDays.includes(day.day)\n    );\n  }\n  return (\n    <ul className=\"grid md:grid-cols-1 grid-cols-2 gap-2\">\n      {daysToRender.map(day => (\n        <DayButton key={day.day} day={day} />\n      ))}\n    </ul>\n  );\n};\n\ntype RenderItemProps<EventItem> = {\n  item: EventItem & { date: Date };\n  /*\n    boolean indicating if a full week is being shwown\n    vs having a single day selected\n  */\n  showingFullWeek: boolean;\n};\n\ntype WeeklyBodyProps<EventItem> = {\n  style?: CSSProperties;\n  events: (EventItem & { date: Date })[];\n  renderItem: (item: RenderItemProps<EventItem>) => ReactNode;\n};\n\nexport function WeeklyBody<EventItem>({\n  events,\n  renderItem,\n  style,\n}: WeeklyBodyProps<EventItem>) {\n  let { week, selectedDay } = useWeeklyCalendar();\n  return (\n    <div className=\"overflow-auto max-h-96\" style={style}>\n      <ul className=\"divide-y divide-gray-200 \">\n        {events.map(item => {\n          // If they select a single day, filter out events for different days\n          if (selectedDay) {\n            if (!isSameDay(selectedDay, item.date)) return null;\n          }\n          //if an event is for a different week, filter it out\n          if (!isSameWeek(week, item.date)) return null;\n\n          //return the remeaining events!\n          return renderItem({\n            item,\n            showingFullWeek: selectedDay === undefined,\n          });\n        })}\n      </ul>\n    </div>\n  );\n}\n\nexport const WeeklyResponsiveContainer = ({\n  children,\n}: {\n  children: ReactNode;\n}) => {\n  return <div className=\"border p-4 md:w-3/4 lg:w-1/2 w-full\">{children}</div>;\n};\n","import React from 'react';\n\n/*\n  Over time there may be more useful event item components that can be included\n  in the library\n*/\n\ntype DefaultWeeklyEventItemProps = {\n  title: string;\n  date: string;\n};\n\nexport const DefaultWeeklyEventItem = ({\n  title,\n  date,\n}: DefaultWeeklyEventItemProps) => {\n  return (\n    <li className=\"py-4 w-72\">\n      <div className=\"text-sm flex justify-between\">\n        <h3 className=\"font-medium\">{title}</h3>\n        <p className=\"text-gray-500\">{date}</p>\n      </div>\n    </li>\n  );\n};\n"],"names":["MonthlyCalendarContext","React","createContext","useMonthlyCalendar","useContext","MonthlyCalendar","locale","currentMonth","onCurrentMonthChange","children","monthStart","startOfMonth","days","eachDayOfInterval","start","end","endOfMonth","Provider","value","MonthlyNav","className","onClick","subMonths","format","getYear","Date","addMonths","daysInWeek","enUS","day","label","localize","MonthlyBodyContext","useMonthlyBody","handleOmittedDays","omitDays","headings","daysToRender","filter","includes","getDay","firstDayOfMonth","subtractOmittedDays","length","padding","Array","fill","headingClasses","l3","l4","l5","l6","l7","MonthlyBody","events","headingClassName","map","key","_","index","toISOString","data","isSameDay","date","MonthlyDay","renderDay","dayNumber","DefaultMonthlyEventItem","title","WeeklyContext","useWeeklyCalendar","WeeklyCalendar","week","useState","selectedDay","setSelectedDay","useEffect","undefined","startOfWeek","changeSelectedDay","WeeklyContainer","DayButton","isSelected","currentDate","setDay","WeeklyDays","WeeklyBody","renderItem","style","item","isSameWeek","showingFullWeek","WeeklyResponsiveContainer","DefaultWeeklyEventItem"],"mappings":"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"}